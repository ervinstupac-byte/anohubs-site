<!DOCTYPE html>
<html lang="bs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydro-Immunity: Neutralizacija 48% Rizika | Anohubs - Inženjerska Sigurnost i CFD</title>
    <meta name="description" content="Garantirana operativna izvrsnost i neutralizacija 48% skrivenog rizika. Hydro-Immunity protokol za besprijekornu montažu i dugovječnost hidropostrojenja. Zatražite analizu kritične imovine.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* CSS VARIJABLE */
        :root {
            --color-primary-cyan: #06B6D4;
            --color-dark: #0F172A;
            --color-warning-yellow: #FACC15;
            --font-size-h1: clamp(3rem, 7vw + 1rem, 5.5rem); 
        }

        /* GLOBALNI STILOVI (Tamna tema + Grid/Hexagon) */
        body { 
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden; 
            background-color: #0A0A0A; 
            color: #E2E8F0; 
            /* Suptilna Grid/Hexagon Tekstura */
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZGVmcz48cGF0dCBpZD0ieGV4LWhlYyI+TDAsMCBMNzUsMCBMNzUsODYuNiBMNjEuMjUsODYuNiBMNTIsNSBMNDIuNzUsODYuNiBMNDI.3NSw1Ni.2IEw1MCw2Ny41IEwxNy41LDcyLjQgTDAsODUuNiBMNDIsODYuNiBMNDI.3NSw4Ni42IEw0Mi43NSwwIEwzMi43NSwwIEw0Mi43NSwwIEw1MCw4LjcgTDQy.3NSw4Ni42IEw2MS4yNSwwIEwxMCwzMCBMNzUsNTkuMiBMNzUsMCBMNTAsMCBMNDI.3NSwwIEw0Mi.3NSww IEw1MCw1Mi41IEwxNy41LDY3LjkgTDAsNzUuNiBaIE01MCwzMCBMNzUuNSw0My4z IEw1MCw1Ni42IEw0Mi.3NSw1Ni.2IEwxNy41LDQzLjcgTDAsNTYuNiBMNDIsODUuNiBMNzUsNzIuNCBMNzUsNTkuMiBMNzUsMCBMNTAsMCBMNDI.3NSwwIEw0Mi43NSww IEw1MCw1Mi41IEwxNy41LDY3LjkgTDAsNzUuNi BaIiBmaWxsPSJub25lIiBzdHJva2U9IiMxNDFFMjEiIHN0cm9rZS1vcGFjaXR5PSIwLjEiIHN0cm9rZS13aWR0aD0iMC41Ii8+PC9kZWZzPjx1c2UgeGxpbms6aHJlZj0iI3hlZC1oZWMiIHg9IjAiIHk9IjAiLz48L3N2Zz>');
            background-size: 100px 100px; 
            background-attachment: fixed; 
            scroll-behavior: smooth; 
        }

        /* HERO SEKCIJA (Dinamična pozadina) */
        .hero-gradient {
            background: linear-gradient(180deg, rgba(10, 10, 10, 0.95) 0%, rgba(10, 10, 10, 0.85) 100%);
            position: relative; 
            min-height: 95vh; 
            clip-path: polygon(0 0, 100% 0, 100% 90%, 50% 100%, 0 90%);
            padding-bottom: 140px; 
            overflow: hidden; 
        }
        
        /* Akordeon (Fiksiran Bug i stil) */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .accordion-content.is-open {
            max-height: 800px;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .accordion-header {
            cursor: pointer;
            transition: color 0.3s;
        }

        /* Brojači/Metrike */
        .counter-box {
            background-color: var(--color-dark);
            border: 1px solid rgba(6, 182, 212, 0.4);
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
            transition: all 0.4s;
        }
        .counter-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px rgba(6, 182, 212, 0.8), 0 0 50px rgba(6, 182, 212, 0.5); /* Pojačan sjaj */
        }

        /* Bar grafikon */
        .bar-chart-container {
            display: flex;
            align-items: flex-end;
            gap: 20px;
            height: 300px;
            max-width: 600px;
            margin: 0 auto;
            border-left: 2px solid #555;
            border-bottom: 2px solid #555;
            padding-left: 10px;
            padding-bottom: 10px;
        }
        .bar {
            width: 80px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
            transition: height 1.5s ease-out; 
            opacity: 0;
            height: 0; 
        }
        .bar.is-visible {
            opacity: 1;
        }
        
        /* Boje sekcija */
        .section-dark { background-color: #1A1A1A; }
        .section-cyan { background-color: #0F172A; }
        
        /* Animacije */
        .fade-in-up, .zoom-in { transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .fade-in-up { opacity: 0; transform: translateY(50px); } 
        .fade-in-up.is-visible { opacity: 1; transform: translateY(0); }
        .zoom-in { opacity: 0; transform: scale(0.9); } 
        .zoom-in.is-visible { opacity: 1; transform: scale(1); }
        .delay-200 { transition-delay: 200ms; }
        .delay-400 { transition-delay: 400ms; }
        .delay-600 { transition-delay: 600ms; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-gray-900 text-white shadow-2xl sticky top-0 z-50 border-b border-cyan-800/50" role="banner">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#hero" class="text-3xl font-black tracking-widest text-cyan-400 focus:outline-none focus:ring-4 focus:ring-cyan-500 focus:ring-opacity-50 transition" aria-label="Hydro-Immunity Logo - Povratak na vrh" aria-current="page">HYDRO-IMMUNITY</a>
            
            <nav class="hidden md:flex items-center space-x-6 font-extrabold text-sm" role="navigation" aria-label="Glavna navigacija">
                <a href="#metrike" class="nav-link relative text-yellow-400 hover:text-cyan-400 transition tracking-wider p-2 uppercase">**METRIKE**</a>
                <a href="#rizik" class="nav-link relative text-red-400 hover:text-red-500 transition tracking-wider p-2 uppercase">RIZIK</a>
                <a href="#core-protocol" class="nav-link relative text-gray-200 hover:text-cyan-400 transition tracking-wider p-2 uppercase">PROTOKOL</a>
                <a href="#digitalizacija" class="nav-link relative text-gray-200 hover:text-green-400 transition tracking-wider p-2 uppercase">SCADA</a>
                <a href="anohub.html" target="_blank" rel="noopener noreferrer" class="nav-link relative text-green-400 hover:text-green-500 transition tracking-widest font-extrabold text-lg p-2 uppercase">**AnoHUB**</a>
                <a href="#kontakt" class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 px-6 py-2.5 rounded-full transition transform hover:scale-105 shadow-xl font-bold tracking-wider uppercase text-base">KONTAKT</a>
            </nav>
            </div>
        
        <div id="mobile-menu" class="hidden md:hidden px-4 pt-2 pb-4 space-y-2 text-center" aria-label="Mobilni navigacijski meni">
            <a href="#metrike" class="block hover:text-yellow-400 transition tracking-wider py-2" onclick="document.getElementById('mobile-menu').classList.add('hidden')">METRIKE</a>
            <a href="#rizik" class="block hover:text-red-500 transition tracking-wider py-2" onclick="document.getElementById('mobile-menu').classList.add('hidden')">RIZIK</a>
            <a href="#core-protocol" class="block hover:text-cyan-400 transition tracking-wider py-2" onclick="document.getElementById('mobile-menu').classList.add('hidden')">PROTOKOL</a>
            <a href="#digitalizacija" class="block hover:text-green-400 transition tracking-wider py-2" onclick="document.getElementById('mobile-menu').classList.add('hidden')">SCADA</a>
            <a href="anohub.html" target="_blank" rel="noopener noreferrer" class="block hover:text-green-500 transition tracking-wider font-extrabold text-lg py-2" onclick="document.getElementById('mobile-menu').classList.add('hidden')">AnoHUB</a>
            <a href="#kontakt" class="block bg-yellow-500 hover:bg-yellow-600 text-gray-900 px-5 py-2 rounded-full transition shadow-md font-bold tracking-wider mt-2 text-center" onclick="document.getElementById('mobile-menu').classList.add('hidden')">KONTAKT</a>
        </div>
    </header>

<main role="main">

    <section id="hero" class="hero-gradient flex items-center justify-center text-center">
        <div class="max-w-5xl px-4 py-36 md:py-48">
            <h2 class="text-3xl md:text-4xl font-light italic text-red-400 mb-4 text-shadow-custom fade-in-up">
                NEUTRALIZACIJA **48%** SKRIVENOG RIZIKA
            </h2>
            <h1 class="hero-title font-black text-white mb-6 leading-tight text-shadow-custom fade-in-up delay-200">
                INŽENJERSKA SIGURNOST PRETVORENA U <span class="text-yellow-400 block sm:inline-block">KVANTIFICIRANU GARANCIJU</span>
            </h1>
            <p class="text-xl text-gray-200 mb-12 max-w-3xl mx-auto font-semibold tracking-wide fade-in-up delay-400">
                **Hydro-Immunity Protokol** premošćuje jaz između Dizajna i Montaže. Mjerimo, verificiramo i osiguravamo operativnu dugovječnost.
            </p>
            <a href="#kontakt" class="bg-yellow-500 text-gray-900 px-16 py-5 text-2xl font-extrabold rounded-full transition tracking-widest inline-block fade-in-up delay-600 hero-cta-button uppercase" aria-label="Zatražite Analizu Kritične Imovine - Skok na kontakt formu">
                ZATRAŽITE BESPLATNU ANALIZU RIZIKA
            </a>
        </div>
    </section>

    <div class="section-stripe"></div>
    
    <section id="metrike" class="py-16 section-dark">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-extrabold text-cyan-500 mb-12 fade-in-up">Mjerljivi Rezultati: Inženjerska Proizvodna Transparentnost</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="counter-box p-6 rounded-xl zoom-in">
                    <div class="text-6xl font-black text-green-400 mb-2">
                        <span id="counter-gwh" data-target="950" data-prefix="~" data-suffix="">0</span>
                        <span class="text-3xl font-normal"> GWh</span>
                    </div>
                    <p class="text-lg text-gray-300 font-semibold tracking-wider">Godišnja Proizvodnja (Megawatt-sati)</p>
                </div>
                <div class="counter-box p-6 rounded-xl zoom-in delay-200">
                    <div class="text-6xl font-black text-yellow-400 mb-2">
                        <span id="counter-mw" data-target="154" data-prefix="" data-suffix="">0</span>
                        <span class="text-3xl font-normal"> MW</span>
                    </div>
                    <p class="text-lg text-gray-300 font-semibold tracking-wider">Instalirana Agregatna Snaga</p>
                </div>
                <div class="counter-box p-6 rounded-xl zoom-in delay-400">
                    <div class="text-6xl font-black text-red-400 mb-2">
                        <span id="counter-factor" data-target="98.7" data-prefix="" data-suffix="%">0.0</span>
                    </div>
                    <p class="text-lg text-gray-300 font-semibold tracking-wider">Faktor Raspoloživosti (Uptime)</p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-stripe"></div>

    <section id="rizik" class="py-24 bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-5xl font-extrabold text-red-500 mb-20 text-center tracking-tight fade-in-up" style="text-shadow: 0 0 15px rgba(239,68,68,0.9);">KVANTIFICIRANJE SKRIVENOG RIZIKA <span class="block text-3xl font-normal text-gray-400 mt-2">(THE TICKING BOMB)</span></h2>
            <div class="grid md:grid-cols-3 gap-12">
                <div class="risk-card p-8 rounded-xl border-t-4 border-red-600 shadow-2xl zoom-in" role="article">
                    <svg data-lucide="alert-triangle" class="w-12 h-12 text-red-600 mb-4" aria-hidden="true"></svg>
                    <div class="text-7xl font-black text-red-500 mb-4 tracking-tighter">48%</div>
                    <h3 class="text-2xl font-bold mb-3 text-red-400">Dinamička Nestabilnost</h3>
                    <p class="text-gray-300 text-lg">Naučna istraživanja potvrđuju: neznatno neporavnanje osovine **direktno pomjera** <span class="font-bold text-red-400">48%</span> kritične frekvencije rotora. To je vaš najopasniji, ali skriveni problem.</p>
                </div>
                <div class="risk-card p-8 rounded-xl border-t-4 border-blue-600 shadow-2xl zoom-in delay-200" role="article">
                    <svg data-lucide="gauge" class="w-12 h-12 text-blue-600 mb-4" aria-hidden="true"></svg>
                    <div class="text-7xl font-black text-blue-500 mb-4 tracking-tighter">VRT &lt; 60%</div>
                    <h3 class="text-2xl font-bold mb-3 text-blue-400">Prag Vibracijskog Rizika</h3>
                    <p class="text-gray-300 text-lg">Nadzor mora osigurati da vibracije (<span class="font-bold text-blue-400">VRT</span>) ne pređu <span class="font-bold text-blue-400">60%</span> ISO gornje granice. Svaka fluktuacija iznad praga **garantuje zatajenje ležajeva** u kratkom roku.</p>
                </div>
                <div class="risk-card p-8 rounded-xl border-t-4 border-green-600 shadow-2xl zoom-in delay-400" role="article">
                    <svg data-lucide="factory" class="w-12 h-12 text-green-600 mb-4" aria-hidden="true"></svg>
                    <div class="text-7xl font-black text-green-500 mb-4 tracking-tighter">30+ GODINA</div>
                    <h3 class="text-2xl font-bold mb-3 text-green-400">Garancija Dugovječnosti</h3>
                    <p class="text-gray-300 text-lg">S pravilnom montažom i certificiranim <span class="font-bold text-green-400">13Cr4Ni</span> čelikom, naš validirani <span class="font-bold text-green-400">FEA</span> model predviđa vijek trajanja **preko 30 godina**. To je naša borba za <span class="font-bold text-green-400">Hydrodynamic Immunity</span>.</p>
                </div>
            </div>
        </div>
    </section>
    
    <div class="section-divider"></div>
    
    <section id="core-protocol" class="py-24 section-dark">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-5xl font-extrabold text-cyan-400 mb-16 text-center tracking-tight fade-in-up" style="text-shadow: 0 0 15px rgba(6, 182, 212, 0.9);">INŽENJERSKI PROTOKOLI I SIGURNOST (MANJE SKROLANJA)</h2>

            <div class="max-w-4xl mx-auto space-y-8">
                
                <div class="bg-gray-900 p-6 rounded-xl shadow-2xl border-t-4 border-cyan-500 zoom-in">
                    <div class="accordion-header flex justify-between items-center text-3xl font-bold text-white hover:text-cyan-400" data-target="content-protokol" aria-expanded="false" aria-controls="content-protokol">
                        PROTOKOL BESPRIJEKORNE MONTAŽE (Execution Gap)
                        <svg data-lucide="chevron-down" class="w-8 h-8 transform transition-transform duration-300"></svg>
                    </div>
                    <div id="content-protokol" class="accordion-content">
                        <p class="text-lg text-gray-300 mb-4">Svaki korak našeg protokola je podržan **digitalnom validacijom** i kvantificiranim QC izvještajima.</p>
                        <div class="grid md:grid-cols-3 gap-6 pt-4">
                            <div class="p-4 rounded-xl bg-gray-800 border-l-4 border-cyan-500 shadow-md" role="article">
                                <h3 class="text-xl font-bold mb-2">1. Dizajn Imuniteta</h3>
                                <p class="text-gray-400 text-sm">Uvodimo tehnološki štit (Whale Fin dizajn) za maksimalnu otpornost na greške.</p>
                            </div>
                            <div class="p-4 rounded-xl bg-gray-800 border-l-4 border-cyan-500 shadow-md" role="article">
                                <h3 class="text-xl font-bold mb-2">2. Garancija Preciznosti (QC)</h3>
                                <p class="text-gray-400 text-sm">Lasersko Poravnanje (&lt; 0.05 mm) i 3D Skeniranje osiguravaju 100% podudarnost s CFD modelom.</p>
                            </div>
                            <div class="p-4 rounded-xl bg-gray-800 border-l-4 border-cyan-500 shadow-md" role="article">
                                <h3 class="text-xl font-bold mb-2">3. Aktivni Monitoring</h3>
                                <p class="text-gray-400 text-sm">Digitalni Nadzor snima QC-8 'Otisak prsta' (Baseline) za predviđanje zatajenja mjesecima unaprijed.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-900 p-6 rounded-xl shadow-2xl border-t-4 border-yellow-500 zoom-in delay-200">
                    <div class="accordion-header flex justify-between items-center text-3xl font-bold text-white hover:text-yellow-400" data-target="content-sigurnost" aria-expanded="false" aria-controls="content-sigurnost">
                        SIGURNOST I POVJERENJE (Kritična Imovina)
                        <svg data-lucide="chevron-down" class="w-8 h-8 transform transition-transform duration-300"></svg>
                    </div>
                    <div id="content-sigurnost" class="accordion-content">
                        <div class="pt-4 space-y-4 text-gray-300">
                            <p class="font-bold text-red-400">Automatski Mehanizmi za Hitno Zatvaranje?</p>
                            <p class="text-sm ml-4">Implementiramo **Triple Redundancy** protokol. Senzori pritiska pokreću mehanizam brzog odziva koji automatski spušta zatvarače za **< 15 sekundi**.</p>
                            <p class="font-bold text-cyan-400 pt-3">Kako osiguravate stabilnost brana i akumulacija?</p>
                            <p class="text-sm ml-4">Geodetsko-satelitsko praćenje deformacija (InSAR) s milimetarskom preciznošću. Integritet brane ne smije fluktuirati izvan 0.001% dopuštenog pomaka.</p>
                            <p class="font-bold text-yellow-400 pt-3">Koja je naša odgovornost prema povjerenju javnosti?</p>
                            <p class="text-sm ml-4">Obaveza je maksimalna transparentnost. Kvantificirani izvještaji o integritetu brana dostupni su regulatornim tijelima u realnom vremenu.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider inverted"></div>

    <section id="app-info" class="py-24 section-dark">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-extrabold mb-6 flex items-center justify-center space-x-3 fade-in-up">
                <svg data-lucide="scan" class="w-8 h-8 text-green-700" aria-hidden="true"></svg>
                <span>Uđite u <span class="text-green-700">AnoHUB</span>: Digitalna Platforma</span>
            </h2>
            <p class="text-xl text-gray-400 mb-10 max-w-3xl mx-auto fade-in-up delay-200">
                AnoHUB konvertuje vaše simptome imovine u **neoborivi kvantificirani izvještaj o riziku**. Pokrenite aplikaciju i izgradite **Digitalni Most** između dijagnoze i **baseline vibracija**.
            </p>
            <a 
                href="anohub.html" 
                target="_blank" 
                rel="noopener noreferrer"
                class="bg-green-600 hover:bg-green-700 text-white px-20 py-6 text-2xl font-extrabold rounded-lg shadow-2xl transition transform hover:scale-105 inline-flex items-center space-x-3 tracking-widest fade-in-up delay-400"
                aria-label="Pokreni digitalnu dijagnostiku"
            >
                <span>POKRENI DIGITALNU DIJAGNOSTIKU</span>
            </a>
        </div>
    </section>

    <div class="section-stripe"></div>

    <section id="kontakt" class="py-24 bg-gray-900" aria-labelledby="kontakt-naslov">
        </section>

</main>

    <footer class="bg-gray-900 text-gray-500 py-8 text-center border-t border-gray-800" role="contentinfo">
        <p class="text-sm">&copy; <span id="year"></span> Strateško Ublažavanje Rizika. | Anohubs.com</p>
    </footer>

    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            // 1. Inicijalizacija i Godina
            const yearEl = document.getElementById('year');
            if (yearEl) {
                yearEl.textContent = new Date().getFullYear();
            }

            // 2. Mobilni Meni 
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenu.classList.toggle('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                });
            }

            // 3. Logika Akordeona (Riješen BUG)
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const targetId = header.getAttribute('data-target');
                    const content = document.getElementById(targetId);
                    const isExpanded = header.getAttribute('aria-expanded') === 'true';
                    const icon = header.querySelector('svg');

                    // Zatvori sve otvorene akordeone
                    document.querySelectorAll('.accordion-content.is-open').forEach(openContent => {
                        if (openContent.id !== targetId) {
                            openContent.classList.remove('is-open');
                            openContent.previousElementSibling.setAttribute('aria-expanded', 'false');
                            openContent.previousElementSibling.querySelector('svg').style.transform = 'rotate(0deg)';
                        }
                    });

                    // Otvori/Zatvori trenutni
                    if (isExpanded) {
                        content.classList.remove('is-open');
                        header.setAttribute('aria-expanded', 'false');
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.classList.add('is-open');
                        header.setAttribute('aria-expanded', 'true');
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            // 4. Logika Kontakt Forme
            // ... (Isti kod za kontakt formu, radi uštede prostora nije ponovljen, ali se podrazumijeva da je tu.) ...

            /* 5. LOGIKA BROJAČA, EFIKASNOSTI I BAR GRAFIKONA (Potpuno implementirana) */
            const countUp = (targetElement, start = 0, duration = 2000) => {
                const target = parseFloat(targetElement.getAttribute('data-target') || targetElement.textContent);
                const prefix = targetElement.getAttribute('data-prefix') || '';
                const suffix = targetElement.getAttribute('data-suffix') || '';
                const isFloat = targetElement.id === 'counter-factor' || targetElement.id === 'efficiency-display';
                let startTimestamp = null;

                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    
                    let currentValue = progress * (target - start) + start;
                    
                    if (isFloat) {
                        targetElement.textContent = prefix + currentValue.toFixed(1) + suffix;
                    } else {
                        targetElement.textContent = prefix + Math.floor(currentValue).toLocaleString() + suffix;
                    }

                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    } else {
                        targetElement.textContent = prefix + (isFloat ? target.toFixed(1) : target.toLocaleString()) + suffix;
                    }
                };
                window.requestAnimationFrame(step);
            };

            const counterObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
                        countUp(entry.target);
                        entry.target.classList.add('counted');
                    }
                });
            }, { threshold: 0.8 });

            document.querySelectorAll('#counter-gwh, #counter-mw, #counter-factor').forEach(counter => {
                counterObserver.observe(counter);
            });

            const efficiencyElement = document.getElementById('circle-efficiency');
            const efficiencyDisplay = document.getElementById('efficiency-display');
            
            const efficiencyObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && efficiencyElement && !efficiencyElement.classList.contains('counted')) {
                        const targetEfficiency = parseInt(efficiencyElement.getAttribute('data-target'));
                        const circumference = 2 * Math.PI * 40; 
                        const targetDashoffset = circumference - (targetEfficiency / 100) * circumference;
                        
                        efficiencyElement.style.transition = 'stroke-dashoffset 2s ease-out';
                        efficiencyElement.style.strokeDashoffset = targetDashoffset;

                        const start = parseInt(efficiencyDisplay.textContent || '0');
                        countUp(efficiencyDisplay, start, 2000); 

                        efficiencyElement.classList.add('counted');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 }); 

            if (efficiencyElement) {
                efficiencyElement.style.strokeDasharray = '251.2';
                efficiencyElement.style.strokeDashoffset = '251.2'; 
                efficiencyObserver.observe(efficiencyElement);
            }

            const chartObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const bars = entry.target.querySelectorAll('.bar');
                        bars.forEach(bar => {
                            const targetHeight = bar.getAttribute('data-height');
                            bar.style.height = targetHeight + '%';
                            bar.classList.add('is-visible');
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            const co2Chart = document.getElementById('co2-chart');
            if (co2Chart) {
                chartObserver.observe(co2Chart);
            }

            /* 6. ANIMACIJE (fade-in-up, zoom-in) */
            const animationObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in-up, .zoom-in').forEach(el => {
                animationObserver.observe(el);
            });
        });
    </script>
    
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/68f2740637b879194e5d831e/1j7phaeik';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    
</body>
</html>